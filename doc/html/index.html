

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>webconsulting FTP transfer 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="None" href="index.html#document-index" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html#document-index">webconsulting FTP transfer 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="webcon-ftp-transfer">
<h1>webcon FTP transfer<a class="headerlink" href="#webcon-ftp-transfer" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Extension name:</th><td class="field-body">webconsulting FTP transfer</td>
</tr>
<tr class="field-even field"><th class="field-name">Extension key:</th><td class="field-body">webcon_ftptransfer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Version:</th><td class="field-body">1.0.0</td>
</tr>
<tr class="field-even field"><th class="field-name">Description:</th><td class="field-body">This extension allows you to create a scheduler task which is responsible for transfering files locally or to/from an FTP account. All configuration is done from within the task configuration form.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Language:</th><td class="field-body">en</td>
</tr>
<tr class="field-even field"><th class="field-name">Author:</th><td class="field-body">Bernhard Kraft &lt;<a class="reference external" href="mailto:kraft&#37;&#52;&#48;webconsulting&#46;at">kraft<span>&#64;</span>webconsulting<span>&#46;</span>at</a>&gt;</td>
</tr>
<tr class="field-odd field"><th class="field-name">Creation:</th><td class="field-body">21-01-2013</td>
</tr>
<tr class="field-even field"><th class="field-name">Generation:</th><td class="field-body">01-22-2013 13:30</td>
</tr>
<tr class="field-odd field"><th class="field-name">Licence:</th><td class="field-body">Open content license available from <a class="reference external" href="http://www.opencontent.org/opl.shtml">www.opencontent.org/opl.shtml</a></td>
</tr>
</tbody>
</table>
<p>The content of this document is related to TYPO3, a GNU/GPL CMS/framework available from <a class="reference external" href="http://www.typo3.org/">www.typo3.org</a></p>
<div class="section" id="what-does-it-do">
<h2>What does it do?<a class="headerlink" href="#what-does-it-do" title="Permalink to this headline">¶</a></h2>
<p>This extension allows you to create a scheduler task which is responsible for transfering files locally or to/from an FTP account. All configuration is done from within the task configuration form. A transfer task requires a &#8220;source&#8221; location and a &#8220;target&#8221; location. When the task gets executed it will transfer all files which can be found at the &#8220;source&#8221; location to the &#8220;target&#8221; location. The &#8220;source&#8221; location and also the &#8220;target&#8221; location can be a local directory or a directory on a FTP server. If the transfer to the &#8220;target&#8221; location doesn&#8217;t succeed it it possible to have the files get moved to a &#8220;failed&#8221; location.</p>
<div class="figure">
<img alt="webcon FTP transfer scheduler task configuration" src="_images/screen-scheduler-1.png" style="width: 500px;" />
<p class="caption">The scheduler task configuration form for a webcon FTP transfer task</p>
</div>
<p><strong>Table of Contents</strong></p>
<div class="toctree-wrapper compound">
<span id="document-ProjectInformation"></span><div class="section" id="project-information">
<h3>Project information<a class="headerlink" href="#project-information" title="Permalink to this headline">¶</a></h3>
<p>This project was created for a customer of webconsulting in the need of transfering uploaded files to a FTP server. The website featured a multi-page formular where the visitor could upload a PDF document to the webserver. Those PDF files should then get uploaded to a FTP server for further processing. Of course such a task could have been achieved with shell script being executed from a cron daemon. But as this project was developed with TYPO3 and there (AFAIK) are no similar extensions we decided to create such a tool. The result is this extension which of course could easily get extended to support more protocols than just FTP.</p>
<p>If you like to contribute simply contact us at <a class="reference external" href="mailto:office&#37;&#52;&#48;webconsulting&#46;at">office<span>&#64;</span>webconsulting<span>&#46;</span>at</a></p>
<div class="section" id="releases">
<h4>Releases<a class="headerlink" href="#releases" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The <a class="reference external" href="http://forge.typo3.org/projects/extension-webcon_ftptransfer/repository/show/trunk">current development version</a> can be downloaded from forge.typo3.org subversion repository using a SVN client</li>
<li>The <a class="reference external" href="http://typo3.org/extensions/repository/view/webcon_ftptransfer">latest stable</a> release of this extension can be found at the TYPO3 extension repository</li>
</ul>
</div>
<div class="section" id="bugs-and-known-issues">
<h4>Bugs and known issues<a class="headerlink" href="#bugs-and-known-issues" title="Permalink to this headline">¶</a></h4>
<p>All current bugs are listed at forge.typo3.org issue tracker <a class="reference external" href="http://forge.typo3.org/projects/extension-webcon_ftptransfer/issues">issuetracker</a>
This is also the place where new bugs, feature requests or other issues can get submitted.</p>
</div>
<div class="section" id="todo">
<h4>Todo<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h4>
<p>The following tasks are still open:</p>
<ul class="simple">
<li>Move the &#8220;container&#8221; scheduler task into an extension of its own.</li>
<li>Instead of having two built-in location objects: &#8220;local&#8221; and &#8220;FTP&#8221; alter those classes to suit a plugin system which allows other extensions to add transfer methods for SCP, HTTP-POST, WEBDAV, etc.</li>
<li>Probably make some aspects of location objects configuratble via TS-Config (i.e. handling of files already existing at target location)</li>
<li>Improve e-mail notification system (better markers, eventually BE-stdWrap, etc.)</li>
<li>Properly implement the autoloader feature of newer TYPO3 versions</li>
</ul>
</div>
<div class="section" id="changelog">
<h4>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h4>
<p>A changelog of the progress for this extension can be found on forge.typo3.org webcon_ftptransfer subversion repository in the file &#8220;<a class="reference external" href="http://forge.typo3.org/projects/extension-webcon_ftptransfer/repository/entry/trunk/Changelog.txt">Changelog.txt</a>&#8220;</p>
</div>
<div class="section" id="release-log">
<h4>Release log<a class="headerlink" href="#release-log" title="Permalink to this headline">¶</a></h4>
<p>The following releases to TER are available</p>
<div class="table-row container">
<dl class="docutils">
<dt>Version</dt>
<dd>1.0.0</dd>
<dt>Release Date</dt>
<dd>2013-01-22 / 12:00 CET</dd>
<dt>Changelog</dt>
<dd>Initial release to TER</dd>
</dl>
</div>
</div>
</div>
<span id="document-AdministratorManual"></span><div class="section" id="administrator-manual">
<h3>Administrator manual<a class="headerlink" href="#administrator-manual" title="Permalink to this headline">¶</a></h3>
<p>As already explained the extension allows you to transfer files from local or remote directories to another directory. So the application logic introduces so called &#8220;locations&#8221;. There are three types of locations: &#8220;source&#8221;, &#8220;target&#8221; and &#8220;failed&#8221;. A webcon_ftptransfer task will retrieve a list of all files which can be found at the &#8220;source&#8221; location and then try to transfer them to the &#8220;target&#8221; location. If transfer of a file from &#8220;source&#8221; to &#8220;target&#8221; fails it will try to move or copy it to the &#8220;failed&#8221; location.</p>
<p>The first step to take if you wish to use file transfers automated on a time basis is to make sure the &#8220;scheduler&#8221; extension is installed. The &#8220;scheduler&#8221; extension is a TYPO3 system extension so it should be shipped with your TYPO3 installation usually. Use the TYPO3 extension manager to install the &#8220;scheduler&#8221; extension. Of course you can also test the webcon_ftptransfer extension without having a cron job set up. In such a case you would have to manually start the FTP transfer task for testing purposes. But the &#8220;scheduler&#8221; extension is required in any case as webcon_ftptransfer only makes another scheduler task type available.</p>
<p>When the &#8220;scheduler&#8221; extension is installed you can install the &#8220;webcon_ftptransfer&#8221; extension either by fetching it from TER, uploading a T3X or otherwise making the extension directory available in &#8220;typo3conf/ext/&#8221;.</p>
<div class="section" id="creating-a-task">
<h4>Creating a task<a class="headerlink" href="#creating-a-task" title="Permalink to this headline">¶</a></h4>
<div class="figure">
<img alt="Scheduler module" src="_images/screen-scheduler-2.png" style="width: 500px;" />
<p class="caption">Use the scheduler module to create a new webcon_ftptransfer task</p>
</div>
<p>If both extensions are properly installed open the &#8220;Scheduler&#8221; BE module and click on the top icon for creating a new task. If you use an older versions of the scheduler there probably is no &#8220;Create new task&#8221; icon and you have to select the option &#8220;Information&#8221; from the drop-down. On the next screen you can choose which type of task should get created. Choose &#8220;FTP Transfer (webcon_ftptransfer)&#8221;.</p>
</div>
<div class="section" id="transfer-task-configuration">
<h4>Transfer task configuration<a class="headerlink" href="#transfer-task-configuration" title="Permalink to this headline">¶</a></h4>
<p>Now the created task has to get configured. The above options are the same as for every scheduler task. Set it according to your needs and the scheduler documentation. There are four sections of configuration for the FTP transfer extension:</p>
<ul class="simple">
<li>FTP configuration: Allows to set FTP server, port, username and password</li>
<li>Path configuration: Defines from which &#8220;source&#8221; location to which &#8220;target&#8221; location a transfer is performed</li>
<li>E-Mail addresses: If configured a mail is sent for every successfull/failed file transfer</li>
<li>Logging configuration: Sets if and where log records should get stored</li>
</ul>
<div class="figure">
<img alt="webcon FTP transfer scheduler task configuration" src="_images/screen-scheduler-1.png" style="width: 500px;" />
<p class="caption">The scheduler task configuration form for a webcon FTP transfer task</p>
</div>
<p>In the following sections each of the above configuration settings gets explained in more detail.</p>
<div class="section" id="ftp-configuration">
<h5>FTP configuration<a class="headerlink" href="#ftp-configuration" title="Permalink to this headline">¶</a></h5>
<p>This section is required if you would like to transfer files from/to an FTP server. You simply have to fill in a valid hostname (i.e. ftp.yourserver.com) the IP port of the FTP control connections (usually port 21) and a valid username/password combination of an account on the FTP server. You can then use a prefix &#8220;<strong>ftp:</strong>&#8221; in the following path configuration to denote a source/target/failed location on this FTP server.</p>
<p>As the primary goal of this extension was to transfer files from a local web upload directory to an FTP server this way of configuration has been choosen. This could maybe change in future versions. The default syntax for FTP url&#8217;s in web-browsers and other extensions is &#8220;<strong>ftp://username:password&#64;hostnamce:port/path</strong>&#8221;. So it can be that in future versions of this extension the configuration section for FTP credentials gets droppend and instead full RFC compliant URLs with an &#8220;<strong>ftp://</strong>&#8221; prefix are allowed.</p>
</div>
<div class="section" id="path-configuration">
<h5>Path configuration<a class="headerlink" href="#path-configuration" title="Permalink to this headline">¶</a></h5>
<p>In this section there are three path (locations) which can be configured. The &#8220;source&#8221; and &#8220;target&#8221; path are mandatory the &#8220;failed&#8221; path is optional. Each of the paths can either be a relative or absolute path on the local filesystem. An absolute path is recognized by starting with a slash &#8220;/&#8221; or &#8220;C:&#8221; (or any other drive letter) on Windows. Please be aware that Windows support is not tested at all. If the path doesn&#8217;t start with a slash it is supposed to be a path relative to the TYPO3 root directory (TYPO3 constant &#8220;PATH_site&#8221;).</p>
<p>If the path starts with a prefix of &#8220;<strong>ftp:</strong>&#8221; then the path is supposed to be on the FTP server from the above FTP configuration section. Please note that the prefix is only &#8220;ftp&#8221; followed by a semicolon. No double slash! So a valid target directory could be &#8220;<a class="reference external" href="ftp:test-upload/">ftp:test-upload/</a>&#8221; which is relative to the FTP home directory for the configured FTP username/password credentials. Another example would be &#8220;<a class="reference external" href="ftp:/home/ftp/uploads">ftp:/home/ftp/uploads</a>&#8221; which is an absolute path on the remote FTP site. Please be aware that many FTP servers feature a virtual filesystem and do not allow direct access to the servers UNIX/Windows filesystem structure.</p>
<p>So what is the difference between &#8220;source&#8221;, &#8220;target&#8221; and this mysterious &#8220;failed&#8221; path - and what are the checkboxes visible in above screenshot for? Here are the answers:</p>
<div class="section" id="source-path">
<span id="id1"></span><h6>Source path<a class="headerlink" href="#source-path" title="Permalink to this headline">¶</a></h6>
<p>The &#8220;source&#8221; location defines a directory from where a list of files is retrieved. If a local filesystem path is used simply all files (not directories) from within the specified path/directory will be queued for transfer. If an FTP location is specified a list of files in this directory is retrieved - every entry is checked for wheter it is a file or a directory and only files will be queued for transfer. So there is (currently) no way to do a recursive transfer including subdirectories of the specified location.</p>
<p>For every file which is found in the source path also a log entry will get created after the transfer - may its outcome be successful (&#8220;success&#8221;), unsucessfull (&#8220;failed&#8221;) or even &#8220;<strong>fatal</strong>&#8221;. Uhm. &#8220;fatal&#8221;? What&#8217;s this now. Thats easy to explain: When a file transfer from &#8220;source&#8221; to &#8220;target&#8221; doesn&#8217;t succeed (probably because the target is a FTP server and it is offline or it&#8217;s disks are full) then the file will get moved/copied to the &#8220;failed&#8221; location: Its outcome/result is &#8220;failed&#8221;. But what is if even this transfer to the &#8220;failed&#8221; location fails? Then this transfer is considered to be &#8220;fatal&#8221;! No way to move, copy or properly handle the source file. You will recognize such a case as the scheduler task will stop working by returning &#8220;false&#8221;. This means that it also won&#8217;t get executed next time it is due. So a fatal outcome of a transfer usually disables further operation as its reason usually is improper configuratin.</p>
</div>
<div class="section" id="target-path">
<h6>Target path<a class="headerlink" href="#target-path" title="Permalink to this headline">¶</a></h6>
<p>The target path defines the location to which the files from the source path will get copied or moved. If a file will get copied or moved depends on the checkbox right below the target path field: &#8220;Move to target location instead of copy&#8221;. If it is checked the file is move (deleted at the source location). If the checkbox is not checked the file is copied and exists twice afterwards.</p>
<p>One may ask what will happen if the file already exists at the target location. Nifty as programmers are this has also been taken into account (in fact this is the reason why programs always become more and more complicated: hundreds of possible things happen which a standard user did not expect). So if a file already exists at the target location simply a postfix of &#8220;_01&#8221; will get added to the filename at the target locatin. If a file with the same name gets copied/moved to the target location again (A third time) a postfix of &#8220;_02&#8221; will get appended. And then &#8220;_03&#8221;, &#8220;_04&#8221; and so on until &#8220;_10&#8221;. If there are already 11 versions of the same file(name) on the server something seems to be not fine and simply a 5-character random string gets appended to the filename. Please note that the postfix doesn&#8217;t simply get appended at the end of the filename+extension but rather only to the filename without extensions. So &#8220;userDocument.pdf&#8221; uploaded a second time becomes &#8220;userDocument_01.pdf&#8221; and NOT &#8220;userDocument.pdf_01&#8221;.</p>
</div>
<div class="section" id="failed-path">
<h6>Failed path<a class="headerlink" href="#failed-path" title="Permalink to this headline">¶</a></h6>
<p>If the tranasfer of a file from &#8220;source&#8221; to &#8220;target&#8221; didn&#8217;t succeed then this extension will try to copy/move the file to the &#8220;failed&#8221; location. So if you are trying to upload files from a local directory to a FTP server and the target (FTP server) is offline won&#8217;t accept the uploaded file for some reason you have the possibility to move it to some other directory on the local machine for taking further actions.</p>
<p>The &#8220;failed&#8221; path can also be a &#8220;ftp:&#8221; location of course altough it is suggested to use a local filesystem path for sane reasons.</p>
<p>Here you also have a checkbox labeled &#8220;Move to failure location instead of copy&#8221; which determines if the file from the &#8220;source&#8221; location will get moved to the &#8220;failed&#8221; location (removed from the &#8220;source&#8221; location) or if a copy is made.</p>
</div>
</div>
<div class="section" id="e-mail-addresses">
<h5>E-Mail addresses<a class="headerlink" href="#e-mail-addresses" title="Permalink to this headline">¶</a></h5>
<p>The concept of &#8220;success&#8221;, &#8220;failed&#8221; and &#8220;fatal&#8221; has already been shortly described in above section <a class="reference internal" href="index.html#source-path"><em>Source path</em></a>. Again: When a file gets transfered the result can either be a successful transfer to the &#8220;target&#8221; location which is considered as &#8220;success&#8221;. Another outcome could be that transfering the file to &#8220;target&#8221; didn&#8217;t work but it could get moved to the &#8220;failed&#8221; location. Then the result is considered &#8220;failed&#8221;. If neither copy/move to &#8220;target&#8221; nor to &#8220;failed&#8221; properly works the outcome of this file transfer will be considered &#8220;fatal&#8221;.</p>
<p>Usually the scheduler will notice this by getting a negative (false) result from the FTP transfer task and will stop to further execute an instance of this task. For the purpose of prompt error handling (if for example a required directory on the server got accidentaly deleted by a non-experience admin/user) there is the possibility of having a email notification. Of course you will also get notified of successful transfers if configured.</p>
<p>For this purpose there are three fields which can get filled with an e-mail address (Syntax: &#8220;<em>Recipient Name &lt;recipient&#64;server.com&gt;</em>&#8221;). These are:</p>
<ul class="simple">
<li>Success e-mail: A mail will get sent to this addresse (addresses) upon successful transfer from &#8220;source&#8221; to &#8220;target&#8221;.</li>
<li>Failed e-mail: When transfer from &#8220;source&#8221; to &#8220;target&#8221; doesn&#8217;t succeed an email will get sent to this address</li>
<li>Fatal e-mail: When neither the transfer to the &#8220;target&#8221; nor to the &#8220;failed&#8221; location succeed an email will get sent to the &#8220;fatal&#8221; e-mail address</li>
</ul>
<p>Depending on your TYPO3 version a different version of the <a class="reference external" href="http://swiftmailer.org/">SWIFT</a> mailing framework is available in your system. Newer versions of SWIFT allow multiple e-mail addresses as recipient. To use this feature of SWIFT simply separate the multiple e-mail addresses in one of the above webcon_ftptransfer e-mail fields with a comma.</p>
</div>
<div class="section" id="logging-configuration">
<h5>Logging configuration<a class="headerlink" href="#logging-configuration" title="Permalink to this headline">¶</a></h5>
<p>The last part of the configuration options is about logging. The checkbox allows you to enable/disable logging at all. When a file gets transfered a database entry will get inserted into the table &#8220;tx_webconftptransfer_log&#8221;. These are common TYPO3 TCA tables and you have to define a PID for them.</p>
<div class="figure">
<img alt="Scheduler module" src="_images/screen-log-3.png" style="width: 500px;" />
<p class="caption">The log of a failed FTP transfer</p>
</div>
<p>If you view the log records afterwards you will notice that they are read-only. Which of course makes sense for log entries.</p>
</div>
</div>
<div class="section" id="other-path-prefixes">
<h4>Other path prefixes<a class="headerlink" href="#other-path-prefixes" title="Permalink to this headline">¶</a></h4>
<p>If you read above chapter carefully you will probably already have learned about the &#8220;ftp:&#8221; prefix which designates paths at a remote FTP server. In fact this prefix takes care of using another location handler than the one for the local filesystem. You can read about location handlers in the next chapter. But there is one more location handler which is shipped with webcon_ftptransfer: The &#8220;chain:&#8221; location handler. You can use this if you are in jail ... No. Wait. Then you made some other mistake. No. The &#8220;chain:&#8221; location handler makes only sense in conjunction with container tasks. Two new things at once - this will get complicated so continue to read and you will understand.</p>
<p>Assume the following situation: You want to copy a file to a remote FTP server and on success move it to some other place in the local filesystem. You can easily achieve the copy to the FTP server by using a &#8220;ftp:&#8221; target location and by not checking the &#8220;Move instead of copy&#8221; checkbox for the &#8220;target&#8221; location. But how can you achive the move to abother local directory afterwards. You can not use the &#8220;failed&#8221; location as this is for handling failures of moving a file: source -&gt; target.</p>
<p>This is where container tasks come into play. Container tasks are a feature which is integrated into webcon_ftptransfer but will probably be integrated in the default TYPO3 scheduler extension. A container task is simply a task where you can set a comma separated list of other tasks in the task configuration interface. See next chapter for more information.</p>
<p>So what we need in the above situation are two webcon_ftptransfer tasks. The first one is responsible for making a copy of each file to the remove FTP server and a second transfer task which is reponsible for moving successfully uploaded files to another location in the local filesystem. And then a third task is required which is responsible for executing the other two tasks in a chained manner. The first two tasks should not get executed automatically on a timed basis but instead be set to get executed once at some already elapsed time. Only the container task should get executed via the scheduler cronjob.</p>
<div class="figure">
<img alt="Scheduler module" src="_images/screen-container-5.png" style="width: 500px;" />
<p class="caption">Overview of scheduler tasks showing Container task and two webcon_ftptransfer tasks</p>
</div>
<p>But how can you make the second task to only move those files to some other location for which the FTP upload did succeed? If you move away &#8220;failed&#8221; files to another location you could of course only make a second task which has set the same source directory and moves the remaining (success?) files in to another place. But this is a hole for race conditions. What would happen if someone puts a new file in the &#8220;source&#8221; location between the first and second task being executed. To overcome such a race condition there is a &#8220;chain:&#8221; location handler.</p>
<p>In the second task you have to set &#8220;chain:success&#8221; as the &#8220;source&#8221; path. Please note that the &#8220;chain:&#8221; location handler is only valid for source paths. This can get explained by internal implementation details: When a webcon_ftptransfer task is transfering one file after the other from &#8220;source&#8221; to &#8220;target&#8221; it registers each file in an array having three subarrays: &#8220;success&#8221;, &#8220;failed&#8221; and &#8220;fatal&#8221; depening on the outcome of a file transfer. This array gets passed on to the next task in a chain. If the next task uses a &#8220;chain:&#8221; location object as &#8220;source&#8221; it fetches the files to transfer from this array variable. But of course there is no real implementation for storing a file anywhere - so &#8220;chain:&#8221; location handlers are only valid as &#8220;source&#8221;.</p>
<p>Of course you could add a third task having &#8220;chain:failed&#8221; as &#8220;source&#8221; which cares about handling files which didn&#8217;t succeed to get transfered to &#8220;target&#8221; by the primary task. It is NOT possible to take actions upon the outcome of secondary or third tasks in a chain.</p>
</div>
<div class="section" id="container-tasks">
<h4>Container tasks<a class="headerlink" href="#container-tasks" title="Permalink to this headline">¶</a></h4>
<p>In the previous section the usage of &#8220;chain:&#8221; location handler was explained. The use of this location handler is strongly coupled with the use of a container task. Currently a container task is some kind of task which is available because webcon_ftptransfer is installed. But maybe this task type will get integrated into future versions of the TYPO3 scheduler extension.</p>
<div class="figure">
<img alt="Scheduler module" src="_images/screen-container-4.png" style="width: 500px;" />
<p class="caption">A container task configuration form</p>
</div>
<p>When creating a container task the only possible configuration option (except default task configuration fields) is a field in which you have to fill a comma separated list of task UIDs to execute in an ordered chained manner. No matter whether a task returns false or true - every task listed in this field will get executed one after the other.</p>
</div>
</div>
<span id="document-DeveloperCorner"></span><div class="section" id="developer-corner">
<h3>Developer corner<a class="headerlink" href="#developer-corner" title="Permalink to this headline">¶</a></h3>
<p>In the previous chapter(s) location objects were already mentioned a few times. So what are these location objects and how can I create a new one. Currently there are location object to handle local locations, FTP locations and chained locations. A local location is simply a directory on your local machine filesystem. Of course this directory could be a SMB or NFS mount in UNIX - the extension doesn&#8217;t care about this. The FTP location object is used for accessing files on a (remote) FTP server. And the chained locations make sense for handling the results of a previous webcon_ftptransfer task in conjunction with container tasks.</p>
<p>If you require something similar as featured by this extension: Copy the contents of a directory to another location on a timed regular basis but using another protocol (i.e: SCP or RSYNC) then what you need is a new location handler object. Currently location handlers are not implemented as pluggable system. So if you create a news location handler you will have to modify the source code of webcon_ftptransfer to recognize your new location handler. Maybe future versions feature some kind of plugin system which allows to simply add new location handlers by creating a php class for them and registering them within the webcon_ftptransfer extension by adding an entry to a TYPO3_CONF_VARS subarray.</p>
<p>Another feature which was already written about in the previous chapter are &#8220;Container Tasks&#8221;. These are tasks which execute other tasks upon their own execution. Their sole purpose is to act as container for other tasks allowing them to pass data from one to the other. You will probably notice that such a task could get used for many purposes and does surely not belong to the webcon_ftptransfer extension. Effort is underway to make such container tasks available by default in the TYPO3 scheduler extension.</p>
<p>If you have any other questions regarding the development of this extension or you require professional support don&#8217;t hesitate to contact us at <a class="reference external" href="mailto:office&#37;&#52;&#48;web-consulting&#46;at">office<span>&#64;</span>webconsulting<span>&#46;</span>at</a></p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html#document-index">Table Of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-ProjectInformation">Project information</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#releases">Releases</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#bugs-and-known-issues">Bugs and known issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#todo">Todo</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#changelog">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#release-log">Release log</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-AdministratorManual">Administrator manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#creating-a-task">Creating a task</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#transfer-task-configuration">Transfer task configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#ftp-configuration">FTP configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#path-configuration">Path configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="index.html#source-path">Source path</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#target-path">Target path</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#failed-path">Failed path</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#e-mail-addresses">E-Mail addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#logging-configuration">Logging configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#other-path-prefixes">Other path prefixes</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#container-tasks">Container tasks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-DeveloperCorner">Developer corner</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html#document-index">webconsulting FTP transfer 1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Bernhard Kraft.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>